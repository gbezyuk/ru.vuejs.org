---
title: Экземпляр Vue
type: guide
order: 3
---

## Конструктор

Каждый vm&nbsp;&mdash; это **корневой экземпляр Vue**, создаваемый функцией-конструктором:

``` js
var vm = new Vue({
  // опции
})
```

Хотя Vue и&nbsp;не&nbsp;реализует [паттерн MVVM](https://en.wikipedia.org/wiki/Model_View_ViewModel) в&nbsp;полной мере, архитектура фреймворка несомненно им&nbsp;во&nbsp;многом вдохновлена. Поэтому традиционно переменная с&nbsp;экземпляром Vue называется `vm` (сокращённо от&nbsp;ViewModel).

При создании экземпляра Vue необходимо передать **объект опций**, содержащий настройки данных, шаблона, элемента монтирования, методов, хуков жизненного цикла и&nbsp;т.д. Полный список опций можно найти&nbsp;в [справочнике API](../api).

Конструктор `Vue` можно расширить, получив переиспользуемый **компонент** с&nbsp;предустановленными опциями:

``` js
var MyComponent = Vue.extend({
  // опции компонента
})

// все экземпляры `MyComponent` создаются
// с предопределёнными опциями
var myComponentInstance = new MyComponent()
```

Хотя можно создать экземпляр компонента и&nbsp;императивно, как показано выше, чаще рекомендуется создавать их&nbsp;декларативно, как пользовательские элементы в&nbsp;шаблонах. Мы&nbsp;поговорим&nbsp;о [системе компонентов](components.html) более подробно позднее. Пока достаточно запомнить, что все компоненты Vue по&nbsp;сути являются расширенными экземплярами Vue.

## Свойства и методы

Каждый экземпляр Vue **проксирует** все свойства своего объекта `data`:

``` js
var data = { a: 1 }
var vm = new Vue({
  data: data
})

vm.a === data.a // -> true

// установка свойства также влияет на оригинальные данные
vm.a = 2
data.a // -> 2

// ... и наоборот
data.a = 3
vm.a // -> 3
```

Стоит заметить, что только эти проксируемые свойства являются **реактивными**. Если вы&nbsp;установите новое свойство экземпляру после его создания, это не&nbsp;обновит представление. Мы&nbsp;обсудим реактивность в&nbsp;подробностях позднее.

Помимо свойств объекта `data`, экземпляр Vue предоставляет ряд собственных свойств и&nbsp;методов. Их&nbsp;имена начинаются с&nbsp;`$`, чтобы отличаться от&nbsp;свойств данных. Например:

``` js
var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})

vm.$data === data // -> true
vm.$el === document.getElementById('example') // -> true

// $watch — это метод экземпляра
vm.$watch('a', function (newVal, oldVal) {
  // этот коллбэк будет вызван, когда изменится `vm.a`
})
```

<p class="tip">Не&nbsp;используйте [стрелочные функции](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions) в&nbsp;свойствах экземпляра и&nbsp;в&nbsp;коллбэках (напр. `vm.$watch('a', newVal => this.myMethod())`). Поскольку стрелочные функции связываются с&nbsp;родительским контекстом, `this` не&nbsp;будет указывать на&nbsp;экземпляр Vue, и&nbsp;`this.myMethod` окажется неопределённым.</p>

Полный список свойств и&nbsp;методов экземпляра Vue есть в&nbsp;[справочнике API](../api).

## Хуки жизненного цикла экземпляра

Каждый экземпляр Vue проходит при своём создании через последовательность шагов инициализации&nbsp;&mdash; например, настраивает наблюдение за&nbsp;данными, компилирует шаблон, монтирует экземпляр в&nbsp;DOM, а&nbsp;также обновляет DOM при изменении данных. Во&nbsp;время этих шагов вызываются **хуки жизненного цикла**, предоставляющие возможность выполнять какие-нибудь дополнительные действия. Например, хук `created` вызывается после создания экземпляра:

``` js
var vm = new Vue({
  data: {
    a: 1
  },
  created: function () {
    // `this` указывает на экземпляр vm
    console.log('Значение a: ' + this.a)
  }
})
// -> "Значение a: 1"
```

Существуют также другие хуки, вызываемые на&nbsp;различных стадиях жизненного цикла экземпляра, например `mounted`, `updated` и&nbsp;`destroyed`. Все хуки вызываются с&nbsp;контекстной переменной `this`, ссылающейся на&nbsp;вызывающий экземпляр Vue. Возможно, вы&nbsp;недоумевали: где&nbsp;же в&nbsp;мире Vue живут контроллеры? Ответ на&nbsp;этот вопрос таков: контроллеров не&nbsp;существует. Всё пользовательское поведение компонента должно быть размещено в&nbsp;этих хуках.

## Диаграмма жизненного цикла

Ниже представлена диаграмма жизненного цикла экземпляра. Необязательно понимать её&nbsp;полностью уже сейчас, но&nbsp;в&nbsp;будущем она вам пригодится.

![Lifecycle](/images/lifecycle.png)
