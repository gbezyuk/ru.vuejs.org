---
title: Синтаксис шаблонов
type: guide
order: 4
---

Чтобы связывать DOM с&nbsp;данными экземпляра, Vue использует синтаксис, основанный на&nbsp;HTML. Все шаблоны Vue являются валидным HTML-кодом, который могут распарсить все HTML-парсеры и&nbsp;браузеры.

Для работы Vue компилирует шаблоны в&nbsp;функции рендера виртуального DOM. При изменении состояния приложения система реактивности определяет минимальный набор компонентов для повторного рендеринга, а&nbsp;виртуальный DOM определяет минимальные изменения уже внутри них.

Если вы&nbsp;знакомы с&nbsp;концепцией виртуального DOM и&nbsp;предпочитаете использовать ничем не&nbsp;ограниченную мощь JavaScript, вы&nbsp;можете также [писать render-функции напрямую](render-function.html), минуя этап шаблонов, в&nbsp;том числе и&nbsp;используя JSX.

## Интерполяции

### Текст

Наиболее простой способ связывания данных&nbsp;&mdash; это текстовая интерполяция с&nbsp;использованием синтаксиса Mustache (двойных фигурных скобок):

``` html
<span>Сообщение: {{ msg }}</span>
```

Выражение в&nbsp;фигурных скобках будет заменено значением свойства `msg` соответствующего объекта данных. Кроме того, оно будет обновлено при любом изменении этого свойства.

Возможно также выполнение однократной интерполяции, которая не&nbsp;обновится при изменении данных&nbsp;&mdash; используйте для этой цели [директиву v-once](../api/#v-once), но&nbsp;учтите, что это повлияет сразу на&nbsp;все связанные переменные в&nbsp;рамках данного элемента:

``` html
<span v-once>Это сообщение никогда не изменится: {{ msg }}</span>
```

### Сырой HTML

Значение выражения, обрамлённого двойными фигурными скобками, подставляется как простой текст, а&nbsp;не&nbsp;как HTML. Если вы&nbsp;хотите вывести HTML, вам понадобится директива `v-html`:

``` html
<div v-html="rawHtml"></div>
```

Содержимое вставляется как обыкновенный HTML, а&nbsp;связывание данных игнорируется. Обратите внимание, что вы&nbsp;не&nbsp;можете использовать `v-html` для вложения шаблонов друг в&nbsp;друга, так как движок шаблонов Vue не&nbsp;основывается на&nbsp;строках. Вместо этого лучше использовать компоненты, позволяющие сочетать и&nbsp;переиспользовать элементы UI.

<p class="tip">Динамический рендеринг произвольного HTML-кода на&nbsp;вашем сайте крайне опасен, так как может легко привести&nbsp;к [XSS-уязвимостям](https://ru.wikipedia.org/wiki/Межсайтовый_скриптинг). Используйте интерполяцию HTML только с&nbsp;доверенным кодом, и&nbsp;**никогда** не&nbsp;подставляйте туда контент, созданный пользователем.</p>

### Атрибуты

Синтаксис двойных фигурных скобок не&nbsp;работает с&nbsp;HTML-атрибутами, используйте вместо него [директиву v-bind](../api/#v-bind):

``` html
<div v-bind:id="dynamicId"></div>
```

С&nbsp;булевыми атрибутами этот метод тоже работает. Если переданное свойство ложное, атрибут будет удалён полностью:

``` html
<button v-bind:disabled="someDynamicCondition">Кнопка</button>
```

### Использование выражений JavaScript

До&nbsp;сих пор мы&nbsp;связывали данные со&nbsp;свойствами в&nbsp;шаблонах только по&nbsp;простым ключам. Но&nbsp;на&nbsp;самом деле при связывании данных Vue поддерживает всю мощь выражений JavaScript:

``` html
{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}

<div v-bind:id="'list-' + id"></div>
```

Эти выражения будут вычислены как JavaScript-код в&nbsp;области видимости соответствующего экземпляра Vue. Единственным ограничением является&nbsp;то, что допускается только **одно выражение**, так что код ниже&nbsp;**НЕ** сработает:

``` html
<!-- это не вычисляемое выражение, а определение переменной: -->
{{ var a = 1 }}

<!-- операторы управления потоком выполнения тоже не сработают, используйте директиву условия: -->
{{ if (ok) { return message } }}
```

<p class="tip">Выражения в&nbsp;шаблонах выполняются в&nbsp;&laquo;режиме песочницы&raquo; и&nbsp;имеют доступ только к&nbsp;ограниченному списку глобальных объектов, таких как `Math` и&nbsp;`Date`. Не&nbsp;пытайтесь получить доступ к&nbsp;пользовательским глобальным объектам внутри используемых в&nbsp;шаблонах выражений.</p>

## Директивы

Директивы&nbsp;&mdash; это специальные атрибуты с&nbsp;префиксом `v-`. В&nbsp;качестве значения такие атрибуты принимают **одно выражение JavaScript** (за&nbsp;исключением `v-for`, о&nbsp;которой ниже). Директива реактивно применяет к&nbsp;DOM изменения при обновлении значения этого выражения. Давайте вспомним пример, который мы&nbsp;видели во&nbsp;введении:

``` html
<p v-if="seen">Сейчас меня видно</p>
```

В&nbsp;данном случае директива `v-if` удалит или вставит элемент `<p>` в&nbsp;зависимости от&nbsp;истинности значения выражения `seen`.

### Аргументы

Некоторые директивы могут принимать &laquo;аргумент&raquo;, разделённый с&nbsp;названием директивы двоеточием. Например, директива `v-bind` используется для реактивного обновления атрибутов HTML:

``` html
<a v-bind:href="url"></a>
```

В&nbsp;данном случае `href` &mdash; аргумент, указывающий директиве `v-bind` связать атрибут `href` элемента со&nbsp;значением выражения `url`.

В&nbsp;качестве другого примера можно привести директиву `v-on`, которая слушает события DOM:

``` html
<a v-on:click="doSomething">
```

В&nbsp;данном случае аргументом является название типа событий. На&nbsp;обработке событий мы&nbsp;также подробнее остановимся позднее.

### Модификаторы

Модификаторы&nbsp;&mdash; это особые постфиксы, добавляемые после точки, которые указывают, что директива должна быть связана каким-то определённым образом. Например, модификатор `.prevent` говорит директиве `v-on` вызвать `event.preventDefault()` при обработке произошедшего события:

``` html
<form v-on:submit.prevent="onSubmit"></form>
```

Мы&nbsp;увидим больше примеров применения модификаторов позднее, когда будем более подробно разбирать `v-on` и&nbsp;`v-model`.

### Фильтры

Для распространённых задач форматирования текста во&nbsp;Vue используются фильтры. Они находят своё применение в&nbsp;двух местах: **в&nbsp;mustache-интерполяциях и&nbsp;в&nbsp;выражениях `v-bind`**. Фильтры добавляются в&nbsp;конце выражения JavaScript и&nbsp;отделяются вертикальной чертой:

``` html
<!-- mustache -->
{{ message | capitalize }}

<!-- v-bind -->
<div v-bind:id="rawId | formatId"></div>
```

<p class="tip">Во&nbsp;Vue&nbsp;2.x фильтры могут быть использованы только в&nbsp;mustache-выражениях и&nbsp;(начиная с&nbsp;2.1.0) в&nbsp;выражениях `v-bind`, поскольку по&nbsp;смыслу они предназначаются для простых задач обработки текста &laquo;на&nbsp;месте&raquo;. Для более сложных трансформаций в&nbsp;других директивах предполагается использовать [вычисляемые свойства](computed.html).</p>

Функция-фильтр получает первым аргументом вычисленное значение выражения.

``` js
new Vue({
  // ...
  filters: {
    capitalize: function (value) {
      if (!value) return ''
      value = value.toString()
      return value.charAt(0).toUpperCase() + value.slice(1)
    }
  }
})
```

Фильтры можно объединять в&nbsp;цепочки:

``` html
{{ message | filterA | filterB }}
```

Фильтры являются JavaScript-функциями, и&nbsp;потому могут принимать параметры:

``` html
{{ message | filterA('arg1', arg2) }}
```

В&nbsp;данном случае строка `'arg1'` будет передана в&nbsp;фильтр на&nbsp;позиции второго аргумента, а&nbsp;значение выражения `arg2` &mdash; на&nbsp;позиции третьего.

## Сокращения

Префикс `v-` служит как визуальное напоминание для обнаружения Vue-специфичных атрибутов в&nbsp;ваших шаблонах. Это может быть полезно, когда Vue используется для добавления динамического поведения в&nbsp;уже существующей разметке, но&nbsp;для часто используемых директив может показаться слишком многословным. В&nbsp;то&nbsp;же время, необходимость в `v-` становится менее значимой при создании [одностраничных приложений](https://ru.wikipedia.org/wiki/Одностраничное_приложение), где Vue контролирует каждый шаблон. Поэтому Vue предоставляет специальные сокращения для двух наиболее часто используемых директив, `v-bind` и&nbsp;`v-on`:

### Сокращение `v-bind`

``` html
<!-- полный синтаксис -->
<a v-bind:href="url"></a>

<!-- сокращение -->
<a :href="url"></a>
```


### Сокращение `v-on`

``` html
<!-- полный синтаксис -->
<a v-on:click="doSomething"></a>

<!-- сокращение -->
<a @click="doSomething"></a>
```

Такие атрибуты на&nbsp;вид несколько отличаются от&nbsp;обыкновенного HTML-кода, но&nbsp;символы `:` и `@` являются валидными для названий атрибутов, и&nbsp;все поддерживаемые Vue.js браузеры могут их&nbsp;корректно обработать. К&nbsp;тому&nbsp;же, в&nbsp;итоговой разметке они не&nbsp;появятся. Сокращённый синтаксис совершенно необязателен, но&nbsp;он&nbsp;скорее всего вам понравится, когда вы&nbsp;узнаете больше о&nbsp;том, как он&nbsp;используется далее.
